//- V1.8
html
  head
    title=title
    link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css")
    link(rel="stylesheet" href="/stylesheet.css")
    scrip(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/core.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js")
    script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js")
    script(src="https://www.chartjs.org/samples/latest/utils.js")
    script(src="https://unpkg.com/feather-icons")
    script.
      function info(){$("#info").toggle();};
      $(document).ready(function () {
        feather.replace();
      });
      function toggle() {
        $("#berekeningen").toggle();
      }
      function aanpassen() {
        $("#aanpas").toggle();
      }
body
  header
    nav(class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow")
      a(class="navbar-brand col-sm-3 col-md-2 mr-0",href="/edit-profile/"+loginHash)=profile.firma
      form(class="form", method="post",action="/zoeken/"+loginHash)
        input(class="form-control form-control-dark w-100" type="text",name="search",placeholder="zoeken" aria-label="zoeken")
        button(type="sumbit",style="display:none")
      ul(class="navbar-nav px-3")
        li(class="nav-item text-nowrap")
          a(class="nav-link" href="#") Sign out

    div(class="container-fluid")
      div(class ="row")
        nav(class="col-md-2 d-none d-md-block bg-light sidebar")
          div(class="sidebar-sticky")
            ul(class="nav flex-column")
              li(class="nav-item")
                a(class="nav-link" href="/index/"+loginHash)
                  span(data-feather="home")
                  span Home
              li(class="nav-item")
                a(class="nav-link" href="/edit-profile/"+loginHash)
                  span(data-feather="user")
                  span My profile
              li(class="nav-item")
                a(class="nav-link" href="/facturen/"+loginHash)
                  span(data-feather="file")
                  span All invoices
              li(class="nav-item")
                a(class="nav-link" href="/contacten/"+loginHash)
                  span(data-feather="users")
                  span Clients
              li(class="nav-item")
                a(class="nav-link" href="/mat/"+loginHash)
                  span(data-feather="package")
                  span Stock
              li(class="nav-item")
                a(class="nav-link active" href="/berekeningen/" + loginHash)
                  span(data-feather="book")
                  span Calculations
                  span(data-feather="chevron-right")
                  span(class="sr-only") (current)
                  span Silicon mold
              li(class="nav-item")
                a(class="nav-link" href="/settings/" + loginHash)
                  span(data-feather="settings")
                  span Settings
            h6(class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted")
              span Bookmarks
            each bookmark in profile.bookmarks
              ul(class="nav flex-column")
                li(class="nav-item")
                    a(class="nav-link",href="https://"+bookmark[1])
                        span(data-feather="bookmark")
                        span=bookmark[0]
        main(role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4")
          h2(class="pt-3") Silicon mold solution
          div(class="headExtend" )
            div(class="Button" )
              button(type="button" class="btn btn-sm btn-outline-secondary",onclick="toggle()")
                span(data-feather="list")
                span=" Toggle calcaulations"
          hr
          div(id="berekeningen", style="display:none;")
            div(class="row")
              div(class="col-2")
                h4
                  span(class="badge badge-secondary") Silicon computation
              div(class="col-4")
              div(class="col-2")
                h4
                  span(class="badge badge-secondary") Epoxy computation
              div(class="col-6")
                p(class="lead")="( "+ L+" * "+B+" * "+H+" ) * "+s1+" = "+As.toFixed(3)+" kg"
                //Berekening Aantal Siliconen
              div(class="col-6")
                p(class="lead")="( "+Ls+" * "+Bs+" * "+Hs+" ) * "+e1+" = "+Ae.toFixed(3)+" kg"
                //Berekening Aantal epoxie
              div(class="col-6")
                p(class="lead")=" ( "+Ls.toFixed(2)+" * "+Bs.toFixed(2)+" * "+Hs.toFixed(2)+" ) * "+s2+" = "+Dos.toFixed(3)+" kg"
                //Dikte totaal van siliconen
              div(class="col-6")
                p(class="lead")=" ( "+Le.toFixed(2)+" * "+Be.toFixed(2)+" * "+He.toFixed(2)+" ) * "+e2+" = "+Doe.toFixed(3)+" kg"
                //Dikte totaal van epoxie
              div(class="col-6")
                p(class="lead")=Dos.toFixed(3)+" kg - "+As.toFixed(3)+" kg = "+Ds.toFixed(3)+" kg"
                //Dikte extra laag van Siliconen
              div(class="col-6")
                p(class="lead")=Doe.toFixed(3)+" kg - "+Ae.toFixed(3)+" kg = "+De.toFixed(3)+" kg"
                //Dikte extra laag van Epoxie
            hr
            div(class="row")
              div(class="col-6")
                p(class="lead")=Ds.toFixed(3)+" kg / "+s3+" kg/uur = "+Ms
                //Uren voor Siliconen
              div(class="col-6")
                p(class="lead")=De.toFixed(3)+" kg / "+e3+" kg/uur = "+Me
                //uren voor epoxie
              div(class="col-6")
                p(class="lead")=W.toFixed(2)+" € * "+Ms+" = "+Pws.toFixed(2)+" €"
                //prijs werkuren voor siliconen
              div(class="col-6")
                p(class="lead")=W.toFixed(2)+" € * "+Me+" = "+Pwe.toFixed(2)+" €"
                //prijs werkuren voor siliconen
              div(class="col-6")
                p(class="lead")=s4+" €/uur * "+Ds.toFixed(3)+" kg = "+Ps.toFixed(2)+" €"
                //Prijs siliconen
              div(class="col-6")
                p(class="lead")=e4+" €/uur * "+De.toFixed(3)+" kg = "+Pe.toFixed(2)+" €"
            hr
          div(class="row")
            div(class="col-lg-2 col-md-1 col-lg-0")
            if error == 1
              div(class="alert alert-danger col-lg-8 col-md-10 col-sm-12" role="alert") Error! Berekening is negatief. Check de ingegeven en interne data.
            div(class="row")
              div(class="col-6")
                table(class="table table-striped")
                  tbody
                    tr
                      th(scope="row")
                        h4 Silicon
                      td
                        h4=Ds.toFixed(3)+" kg"
                    tr
                      th(scope="row")
                        h4 Material price silicon
                      td
                        h4=Ps.toFixed(2)+" €"
                    tr
                      th(scope="row")
                        h4 Working hour(s) price silicon
                      td
                        h4=Pws.toFixed(2)+" €"
                    tr
                      th(scope="row")
                        h4 Total price silicon
                      td
                        h4=Number(Ps+Pws).toFixed(2)+" €"
                    tr
                      th(scope="row")
                        h4 Total time silicon
                      td
                        h4=Ms
              div(class="col-6")
               table(class="table table-striped")
                  tr
                    th(scope="row")
                      h4 Epoxy
                    td
                      h4=De.toFixed(3)+" kg"
                  tr
                    th(scope="row")
                      h4 Material price epoxy
                    td
                      h4=Pe.toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Working hour(s) price epoxy
                    td
                      h4=Pwe.toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Total price epoxy
                    td
                      h4=Number(Pe+Pwe).toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Total time epoxy
                    td
                      h4=Me
              div(class="col-3")
              div(class="col-6")
                table(class="table table-striped")
                  tr
                    th(scope="row")
                      h4 Total price of working hour(s)
                    td
                      h4=Ptw.toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Total price of materials
                    td
                      h4=Ptm.toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Total price
                    td
                      h4=Pt.toFixed(2)+" €"
                  tr
                    th(scope="row")
                      h4 Total working hour(s)
                    td
                      h4=Mt
          hr
          div(class="row")
            if error == 2
              div(class="alert alert-danger col-lg-8 col-md-10 col-sm-12" role="alert") No values where entered
              div(class="col-lg-2 col-md-1 col-sm-0")
          div(class="col-lg-2 col-md-1 col-sm-0")
          button(type="button",onclick="aanpassen()",class="btn btn-outline-"+settings.thema+" btn-md") Change data
          form(action='/epo-sil-marge/'+loginHash,method='post')
            div(class="form-row")
              div(id="aanpas" class="col-12",style="display:none")
                div(class="col-lg-8 col-md-6 col-sm-4")
                  label(for="L") Length (inch)
                  input(type="number",class="form-control",value=L,name="L",step=".01",placeholder="Lengte (inch)", required)
                div(class="col-lg-8 col-md-6 col-sm-4")
                  label(for="B") Width (inch)
                  input(type="number",class="form-control",value=B,name="B",step=".01",placeholder="Breedte (inch)", required)
                div(class="col-lg-8 col-md-6 col-sm-4")
                  label(for="H") Height (inch)
                  input(type="number",class="form-control",value=H,name="H",step=".01",placeholder="Hoogte (inch)", required)
                div(class="col-lg-8 col-md-6 col-sm-4")
                  label(for="X") Extra thickness silicon (inch)
                  input(type="number",class="form-control",value=X,name="X",step=".01",placeholder="Extra dikte van Siliconen (inch)", required)
                div(class="col-lg-8 col-md-6 col-sm-4")
                  label(for="W") Work rate (€/hour)
                  input(type="number",class="form-control",value=W,name="W",step=".01",placeholder="Werk tarief (€/uur)", required)
              div(class="col-lg-2 col-md-1 col-sm-0")
              div(class="form-group col-lg-3 col-md-4 col-sm-12")
                label(for="title") subtotaal
                h4 #{Pt.toFixed(2)} €
              div(class="col-lg-2 col-md-2 col-sm-12")
              div(class="form-group col-lg-3  col-md-4 col-sm-12")
                label(for="title") % margin
                input(type="number",class="form-control",name="marge",step=".01",placeholder="aantal %")
              div(class="col-lg-2 col-md-1 col-sm-0")
              button(type="submit",class="btn btn-outline-"+settings.thema) Calculate margin

          hr
          div(class="row")
            div(class="col-lg-5 col-md-4 col-lg-0")
            div(class="col-lg-3 col-md-2 col-sm-10")
              h2=totmarge
