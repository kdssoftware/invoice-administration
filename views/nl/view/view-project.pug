//- V1.8
html
  head
    title=title
    link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css")
    link(rel="stylesheet" href="/stylesheet.css")
    scrip(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/core.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js")
    script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js")
    script(src="https://www.chartjs.org/samples/latest/utils.js")
    script(src="https://unpkg.com/feather-icons")
    script(src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js")
    script.
      var maand = ["Januari", "Februari", "Maart", "April", "Mei", "Juni", "Juli", "Augustus", "September", "Oktober", "November", "December"];
      var maand_klein = ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"];
      var month = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "Oktober", "November", "December"];
      var month_small = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "oktober", "november", "december"];
      var year = new Date().getFullYear().toString();
      var angle_mat = 0;
      var angle_activ = 0;
      function toggleChartSize() {
        $("#smallChart").toggle("fast");
        $("#bigChart").toggle("fast");
        $("#DescriptionSmall").toggle("fast");
        $("#AddSmall").toggle("fast");
        $("#ActivitiesBig").toggle("fast");
        $("#ActivitiesSmall").toggle("fast");
        $("#bigView").toggle("fast");
      }
      $( function() {
        $( ".calendar" ).datepicker({
          dateFormat: "d MM y"
          });
        //$( ".datepicker" ).datepicker( "option", "dateFormat", "d MM y" );
        //$( ".datepicker" ).datepicker( "option", "showAnim", "fold" );
        //$( ".datepicker" ).datepicker("option", "dayNames"( [#{dayNames}]);
        //$( ".datepicker" ).datepicker( "option", "showOptions", { direction: "up" } );
      } );
      function info(){$("#info").toggle();};
      $(document).ready(function () {
        feather.replace();
      });
      function changeContact(){
        $("#changeContactForm").toggle();
        $("#projectCard").toggle();
      };
      function changeFinancial(){
        $("#financialCard").toggle();
        $("#financialCardEdit").toggle();
      };
      function changeDescription(){
        $(".descriptionCard").toggle();
        $(".descriptionCardEdit").toggle();
      }
      function selectOnderaanneming(){
        $(".fielOnderaanneming").show("slow");
        $(".fieldWerkuren").hide("fast");
        $(".fieldMaterialen").hide("fast")
      }
      function selectWerkuren(){
        $(".fieldWerkuren").show("slow");
        $(".fielOnderaanneming").hide("fast");
        $(".fieldMaterialen").hide("fast");
      }
      function selectMaterialen(){
        $(".fieldMaterialen").show("slow");
        $(".fielOnderaanneming").hide("fast");
        $(".fieldWerkuren").hide("fast");
      }
      function hideFields(){
        $(".fieldMaterialen").hide("fast");
        $(".fielOnderaanneming").hide("fast");
        $(".fieldWerkuren").hide("fast");
      }
      function toggleActivities(){
        $(".activitiesStuff").toggle("slow");
        angle_activ += 180;
        $('.arrowActiv').css('transform','rotate(' s+ angle_activ + 'deg)');
      }
      function toggleMaterials(){
        $("#materialsStuff").toggle("slow");
        angle_mat += 180;
        $('.arrowMat').css('transform','rotate(' + angle_mat + 'deg)');
      }
      
body
  header
    nav(class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow")
      a(class="navbar-brand col-sm-3 col-md-2 mr-0",href="/edit-profile/"+loginHash)=profile.firma
      form(class="form", method="post",action="/zoeken/"+loginHash)
        input(class="form-control form-control-dark w-100" type="text",name="search",placeholder="zoeken" aria-label="zoeken")
        button(type="sumbit",style="display:none")
      ul(class="navbar-nav px-3")
        li(class="nav-item text-nowrap")
          a(class="nav-link" href="#") Sign out
    div(class="container-fluid")
      div(class ="row")
        nav(class="col-md-2 d-none d-md-block bg-light sidebar")
          div(class="sidebar-sticky")
            ul(class="nav flex-column")
              li(class="nav-item")
                a(class="nav-link" href="/index/"+loginHash)
                  span(data-feather="home")
                  span Home
              li(class="nav-item")
                a(class="nav-link" href="/edit-profile/"+loginHash)
                  span(data-feather="user")
                  span Mijn Profiel
              li(class="nav-item")
                a(class="nav-link" href="/facturen/"+loginHash)
                  span(data-feather="file")
                  span Alle facturen
              li(class="nav-item")
                a(class="nav-link" href="/contacten/" + loginHash)
                  span(data-feather="users")
                  span Klanten
              li(class="nav-item")
                  a(class="nav-link active" href="/projecten/"+loginHash)
                      span(data-feather="book")
                      span Projecten
                      span(class="sr-only") (current)
                      span(data-feather="chevron-right")
                      span=project.naam
              li(class="nav-item")
                a(class="nav-link" href="/mat/"+loginHash)
                  span(data-feather="package")
                  span Materialen
              li(class="nav-item")
                a(class="nav-link" href="/berekeningen/"+loginHash)
                  span(data-feather="book")
                  span Berekeningen
              li(class="nav-item")
                a(class="nav-link" href="/settings/"+loginHash)
                  span(data-feather="settings")
                  span Settings
            if profile.bookmarks.length !==0
              h6(class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted")
                span Bookmarks
            each bookmark in profile.bookmarks
              ul(class="nav flex-column")
                li(class="nav-item")
                    a(class="nav-link",href="https://"+bookmark[1])
                        span(data-feather="bookmark")
                        span=bookmark[0]
            h6(class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted")
              span Projecten - opties
            ul(class="nav flex-column mb-2")
              li(class="nav-item")
                a(class="nav-link",href='/add-project' + "/" + loginHash)
                  span(data-feather="plus-circle")
                  span Nieuw project
        main(role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4")
          .container-fluid
            .row
              .col-6
                .container-fluid
                  .row
                    .col-12.col.cardholder#Main
                      div.fillInTheBlanks(class="card")
                        //MAIN CARD --editable
                        div(id="changeContactForm" class="selectNextToButton",style="display:none;")
                          .cardWithEditFeather
                          form(action='/project-edit/'+project._id+'/'+loginHash,method='post')
                            .card-header
                              .row
                                .col-2
                                  label Projectnaam: 
                                .col-7
                                  input(style="width:100%;",type="text",name="naam",value=project.naam,placeholder=project.naam)
                                .col-3  
                                  a.edit-link-project(href="#",onclick="changeContact()" )  
                                    span(data-feather="edit-3")
                                  button.edit-link-project.submit-feather.thisButtonIsALink(type="submit")
                                    span(data-feather="save")
                            .card-body
                              .form-group.row
                                  .col-2.col-form-label
                                    label.card-title.editable-select(for="selectClient") Klant:
                                  .col.mr-auto
                                      select.form-control.custom-select.selectNextToButton#selectClient(name="idc")
                                        each contact in contacten
                                          if contact._id.toString() !== project.contact.toString()
                                            option(value=contact._id)=contact.contactPersoon
                                          else
                                            option(value=contact._id, selected)=contact.contactPersoon
                        //MAIN CARD --normal
                        div(id="projectCard",class="cardWithEditFeather")
                          h5(class="card-header h2")=project.naam
                            a(href="#",onclick="changeContact()" ,class="edit-link-project")
                              span(data-feather="edit-2")
                          div(class="card-body")
                            .row
                              .col-2
                                h6.card-title klant:
                              .col.mr-auto
                                a(href="/facturen"+"/"+project.contact+"/"+loginHash)=project.contactNaam      
                    .col-12.mr-auto.cardholder#Financial
                      //FINANCIAL CARD --normal
                      div.fillInTheBlanks(class="card",id="financialCard", style="")
                        div(class="card-header") Financieel
                          a(href="#",onclick="changeFinancial()",class="edit-link-project")
                            span(data-feather="edit-2")                      
                        div(class="cardWithEditFeather")
                          ul(class="list-group list-group-flush")
                            if !project.werkprijs
                              li(class="list-group-item") 
                                .row
                                  .col-3
                                    h6 Werktarief
                                  .col.mr-auto
                                    span 0 €/uur
                            else
                              li(class="list-group-item")
                                .row
                                  .col-3
                                    h6 Werktarief
                                  .col.mr-auto
                                    spann=project.werkprijs+" €/uur"
                            li(class="list-group-item")
                              .row
                                .col-3
                                  h6 Budget
                                .col
                                  span=project.budget.min+"€ - "+project.budget.max+"€"
                            li(class="list-group-item")
                              .row
                                .col-3 
                                  h6 Data
                                .col
                                  span=project.data.start+" - "+project.data.end
                            li(class="list-group-item")
                              .row
                                .col-3 
                                  h6 Werkuren totaal
                                .col
                                  span=project.werkuren+" uur"
                            li(class="list-group-item")
                              .form-group.row
                                .col-3
                                  h6 totaalprijs
                                .col-auto
                                  span=project.total+"€"
                      //FINANCIAL CARD --editable
                      div(class="card",id="financialCardEdit" ,style="display:none;")
                        form(action='/project-change-financial/'+project._id+'/'+loginHash,method='post')
                          div(class="card-header") Financieel
                              a(href="#",onclick="changeFinancial()" ,class="edit-link-project")
                                span(data-feather="edit-3")
                              button(type="submit",class="edit-link-project submit-feather thisButtonIsALink")
                                span(data-feather="save")
                          div(class="cardWithEditFeather")
                            ul(class="list-group list-group-flush")
                              li(class="list-group-item")
                                .form-group.row
                                  .col-auto
                                    h6 Werktarief (€/uur)
                                  .col-auto.mr-auto
                                    input(type="text",name="werktarief",placeholder=project.werkprijs,value=project.werkprijs)
                              li(class="list-group-item")
                                .form-group.row
                                  .col-auto
                                    h6 Budget (€)
                                  .row
                                      .col-auto
                                        input(type="text",name="budgetMin",placeholder=project.budget.min,value=project.budget.min)
                                      .col-auto
                                        | -
                                      .col-auto.mr-auto
                                        input(type="text",name="budgetMax",placeholder=project.budget.max,value=project.budget.max)
                              li(class="list-group-item")
                                .form-group.row
                                  .col-auto
                                    h6 Data
                                  .row
                                      .col-auto
                                        input.calendar(type="text",name="dataStart",placeholder=project.data.start,value=project.data.start)
                                      .col-auto
                                        | -
                                      .col-auto.mr-auto
                                        input.calendar(type="text",name="dataEnd",placeholder=project.data.end,value=project.data.end)
                              li(class="list-group-item")
                                .row
                                  .col-3 
                                    h6 Werkuren totaal
                                  .col
                                    span=project.werkuren+" uur"
                              li(class="list-group-item")
                                .form-group.row
                                  .col-3
                                    h6 totaalprijs
                                  .col-auto
                                    span=project.total+"€"
                    .col-12.mr-auto.cardholder#smallChart
                      .card
                        .card-header(onclick="toggleChartSize()")
                          | Grafiek
                          a(href="#smallChart" ,class="edit-link-project")
                            span(data-feather="maximize-2")
                        .card-body
                          canvas#drawChart
              .col-6#bigView(style="display:none;")
                .container-fluid
                  .col-12.col.cardholder#DescriptionBig
                    //DESCRIPTION CARD --normal
                    div.descriptionCard(class="card")
                      div(class="cardWithEditFeather")
                        div(class="card-header") Beschrijving
                          a(href="#",onclick="changeDescription()",class="edit-link-project")
                            span(data-feather="edit-2")
                        div(class="card-body")
                          span(class="cardDescription textarea")=project.description
                    //DESCRIPTION CARD --editable
                    div.descriptionCardEdit(class="card",style="display:none;")
                      div(class="cardWithEditFeather")
                        form(action='/project-edit-description/'+project._id+'/'+loginHash,method='post')
                          div(class="card-header") Beschrijving
                            a(href="#",onclick="changeDescription()",class="edit-link-project")
                              span(data-feather="edit-3")
                            button(type="submit",class="edit-link-project submit-feather thisButtonIsALink")
                              span(data-feather="save")
                            a(href="#",onclick="changeBeschrijving",class="edit-link-project")
                          div(class="card-body")
                            div(class="form-group")
                                textarea(class="form-control" id="descriptionOfCard" rows="3",name="description",placeholder=project.description)=project.description
                  .col-12.mr-auto.cardholder#AddBig
                    //ADD CARD --normal
                    div(class="card")
                      div(class="card-header") 
                        .row 
                          .col-4
                            | Toevoegen
                          .col-8
                            div(class="input-group")
                                select(class="custom-select selectNextToButton" id="inputGroupSelect03"  name="idc")
                                  option(onclick="selectOnderaanneming()") onderaanneming
                                  option(onclick="selectWerkuren()") werkuren
                                  option(onclick="selectMaterialen()") Materialen
                                  option(onclick="hideFields()",selected)
                      ul(class="list-group list-group-flush")
                        //ADD CARD --subcontractor
                        li.fielOnderaanneming(class="list-group-item",style="display:none;")
                          form(action='/project-add-sub/'+project._id+'/'+loginHash method='post')
                            .form-group.row
                              label.col-4.col-form-label(for='price') Prijs van de factuur
                              .col-sm-10
                                input.form-control(type='text' name='price' id='price')
                            .form-group.row
                              label.col-4.col-form-label(for='textareaTransactie') Geleverde Transactie
                              .col-sm-10
                                textarea.form-control(type='text' id='textareaTransactie' name='transactie')
                            .form-group.row
                              label.col-4.col-form-label(for='naamFirmaTransactie') naam Firma
                              .col-sm-10
                                input.form-control(type='text' id='naamFirmaTransactie' name='firmaNaam')
                            .form-group.row
                              button.btn(type='sumbit') Add
                        //ADD CARD --working hours
                        li.fieldWerkuren(class="list-group-item",style="display:none;")
                          form(action='/project-add-hours/'+project._id+'/'+loginHash method='post')
                            .form-group.row
                              label.col-4.col-form-label(for='werkurenInput') Aantal Uren Gewerkt
                              .col-sm-8
                                input.form-control(type='text' name='werkuren' id='werkurenInput')
                              .col-2
                                button.btn(type='sumbit') Add
                        //ADD CARD -- Materials
                        li.fieldMaterialen(class="list-group-item",style="display:none;")
                          form(action='/project-add-mat/'+project._id+'/'+loginHash method='post')
                            .form-group.row
                              label.col-4.col-form-label(for='hoeveelheidInput') Hoeveelheid gebruikt (kg/l)
                              .col-sm-10
                                input.form-control(type='text' name='hoeveelheid' id='hoeveelheidInput')
                            .form-group.row
                              label.col-4.col-form-label(for='beschrijvingInput') Beschrijving
                              .col-sm-10
                                textarea.form-control(type='text' id='beschrijving' name='beschrijvingInput')
                            .form-group.row
                              label.col-4.col-form-label(for='materialeninput') Materiaal
                              div.col-sm-10
                                  select.form-control.custom-select.select.NextToButton(id="materialeninput"  name="materiaal")
                                    option(selected)
                                    each materiaal in materialen
                                      option(value=materiaal._id)=materiaal.naam
                            .form-group.row
                              button.btn(type='sumbit') Add
              .col-12.cardholder#bigChart(style="display:none;")
                .card
                  .card-header(onclick="toggleChartSize()")
                    | Grafiek
                    a.edit-link-project(href="#smallChart")
                      span(data-feather="minimize-2")
                  .card-body
                    canvas#drawChart2
              .col-6.mr-auto
                .container-fluid
                  .row
                    .col-12.col.cardholder#DescriptionSmall
                      //DESCRIPTION CARD --normal
                      div.fillInTheBlanks.descriptionCard(class="card")
                        div(class="cardWithEditFeather")
                          div(class="card-header") Beschrijving
                            a(href="#",onclick="changeDescription()",class="edit-link-project")
                              span(data-feather="edit-2")
                          div(class="card-body")
                            span(class="cardDescription textarea")=project.description
                      //DESCRIPTION CARD --editable
                      div.descriptionCardEdit(class="card",style="display:none;")
                        div(class="cardWithEditFeather")
                          form(action='/project-edit-description/'+project._id+'/'+loginHash,method='post')
                            div(class="card-header") Beschrijving
                              a(href="#",onclick="changeDescription()",class="edit-link-project")
                                span(data-feather="edit-3")
                              button(type="submit",class="edit-link-project submit-feather thisButtonIsALink")
                                span(data-feather="save")
                              a(href="#",onclick="changeBeschrijving",class="edit-link-project")
                            div(class="card-body")
                              div(class="form-group")
                                  textarea(class="form-control" id="descriptionOfCard" rows="3",name="description",placeholder=project.description)=project.description
                    .col-12.mr-auto.cardholder#AddSmall
                      //ADD CARD --normal
                      div(class="card")
                        div(class="card-header") 
                          .row 
                            .col-4
                              | Toevoegen
                            .col-8
                              div(class="input-group")
                                  select(class="custom-select selectNextToButton" id="inputGroupSelect03"  name="idc")
                                    option(onclick="selectOnderaanneming()") onderaanneming
                                    option(onclick="selectWerkuren()") werkuren
                                    option(onclick="selectMaterialen()") Materialen
                                    option(onclick="hideFields()",selected)
                        ul(class="list-group list-group-flush")
                          //ADD CARD --subcontractor
                          li.fielOnderaanneming(class="list-group-item",style="display:none;")
                            form(action='/project-add-sub/'+project._id+'/'+loginHash method='post')
                              .form-group.row
                                label.col-4.col-form-label(for='price') Prijs van de factuur
                                .col-sm-10
                                  input.form-control(type='text' name='price' id='price')
                              .form-group.row
                                label.col-4.col-form-label(for='textareaTransactie') Geleverde Transactie
                                .col-sm-10
                                  textarea.form-control(type='text' id='textareaTransactie' name='transactie')
                              .form-group.row
                                label.col-4.col-form-label(for='naamFirmaTransactie') naam Firma
                                .col-sm-10
                                  input.form-control(type='text' id='naamFirmaTransactie' name='firmaNaam')
                              .form-group.row
                                button.btn(type='sumbit') Add
                          //ADD CARD --working hours
                          li.fieldWerkuren(class="list-group-item",style="display:none;")
                            form(action='/project-add-hours/'+project._id+'/'+loginHash method='post')
                              .form-group.row
                                label.col-4.col-form-label(for='werkurenInput') Aantal Uren Gewerkt
                                .col-sm-8
                                  input.form-control(type='text' name='werkuren' id='werkurenInput')
                                .col-2
                                  button.btn(type='sumbit') Add
                          //ADD CARD -- Materials
                          li.fieldMaterialen(class="list-group-item",style="display:none;")
                            form(action='/project-add-mat/'+project._id+'/'+loginHash method='post')
                              .form-group.row
                                label.col-4.col-form-label(for='hoeveelheidInput') Hoeveelheid gebruikt (kg/l)
                                .col-sm-10
                                  input.form-control(type='text' name='hoeveelheid' id='hoeveelheidInput')
                              .form-group.row
                                label.col-4.col-form-label(for='beschrijvingInput') Beschrijving
                                .col-sm-10
                                  textarea.form-control(type='text' id='beschrijving' name='beschrijvingInput')
                              .form-group.row
                                label.col-4.col-form-label(for='materialeninput') Materiaal
                                div.col-sm-10
                                    select.form-control.custom-select.select.NextToButton(id="materialeninput"  name="materiaal")
                                      option(selected)
                                      each materiaal in materialen
                                        option(value=materiaal._id)=materiaal.naam
                              .form-group.row
                                button.btn(type='sumbit') Add
                    .col-12.mr-auto.cardholder#Materialen
                        .card
                          div.card-header(onclick="toggleMaterials()") Materialen
                            a(href="#" ,class="edit-link-project")
                              span.arrowMat(data-feather="chevron-down")
                          ul.list-group.list-group-flush#materialsStuff(style="display:none;")
                              each materiaal in project.materials
                                li.list-group-item
                                  .row
                                    .col-3
                                      p=materiaal.amount+" kg / l"
                                    .col-5.pre
                                      p=materiaal.name+" ("+materiaal.cost+" € per kg/l)"
                                    .col
                                      p.pre=materiaal.date
                    .col-12.mr-auto.cardholder#ActivitiesSmall
                      .card
                        div.card-header(onclick="toggleActivities()") Activities
                          a(href="#" ,class="edit-link-project")
                            span.arrowActiv(data-feather="chevron-down")
                        ul.list-group.list-group-flush.activitiesStuff(style="display:none;")
                            each activity in project.activities
                              li.list-group-item
                                .row
                                  .col-1
                                    if activity.id==0
                                      span(data-feather="alert-circle")
                                    if activity.id==1
                                      span(data-feather="package")
                                    if activity.id==2
                                      span(data-feather="file-plus")
                                    if activity.id==3
                                      span(data-feather="clock")
                                    if activity.id==4
                                      span(data-feather="download")
                                    if activity.id==5
                                      span(data-feather="edit-3")
                                    if activity.id==6
                                      span(data-feather="edit-3")
                                    if activity.id==7
                                      span(data-feather="edit-3")
                                    if activity.id==8
                                      span(data-feather="briefcase")
                                    if activity.id==9
                                      span(data-feather="dollar-sign")
                                  .col-8.pre
                                    p=activity.text
                                  .col-3      
                                    p.pre=activity.date
              .col-6.mr-autocardholder#ActivitiesBig(style="display:none;")
                .card
                  div.card-header(onclick="toggleActivities()") Activities
                    a(href="#" ,class="edit-link-project")
                      span.arrowActiv(data-feather="chevron-down")
                  ul.list-group.list-group-flush.activitiesStuff(style="display:none;")
                      each activity in project.activities
                        li.list-group-item
                          .row
                            .col-1
                              if activity.id==0
                                span(data-feather="alert-circle")
                              if activity.id==1
                                span(data-feather="package")
                              if activity.id==2
                                span(data-feather="file-plus")
                              if activity.id==3
                                span(data-feather="clock")
                              if activity.id==4
                                span(data-feather="download")
                              if activity.id==5
                                span(data-feather="edit-3")
                              if activity.id==6
                                span(data-feather="edit-3")
                              if activity.id==7
                                span(data-feather="edit-3")
                              if activity.id==8
                                span(data-feather="briefcase")
                              if activity.id==9
                                span(data-feather="dollar-sign")
                            .col-8.pre
                              p=activity.text
                            .col-3      
                              p.pre=activity.date
  script.
    function getRangeDates(start,end){
      let s = new Date(Date.parse(start));
      let e = new Date(Date.parse(end));
      let n = new Date(s);
      let days = 1;
      let dayRanges = [];
      while(n.toString()!==e.toString()){
        dayRanges.push(n.toDateString().substring(4,n.toDateString().length-5));
      	n.setDate(s.getDate()+days);
        days++;
      }
      return dayRanges;  
    }
    var labels;
    if("#{settings.lang}"==="nl"){
      labels = maand_klein;
    }else if("#{settings.lang}" === "eng"){
      labels = month_small;
    }
    let chartData = [#{project.chart}];
    let config={
    	"type": "line",
    	"data": {
    		"labels": getRangeDates("#{project.data.start}","#{project.data.end}"),
    		"datasets": [{
    			"label": "Prijs totaal - per dag",
    			"data": [#{project.chart}],
    			"fill": false,
    			"borderColor": "rgb(75, 192, 192)",
    			"lineTension": 0.1
    		}]
    	},
    	"options": {
        "scales":{
          "yAxes":[{
            "gridLines":{
              "color":['red'  ]
            },
            "ticks":{
              "min":0,
              "max": Number(#{project.budget.max}),
              "stepSize": ((Number(#{project.budget.max})-Number(#{project.budget.min}))/2)
            }
            }]
        }
      }
    }

    window.onload = function() {
      var ctx = document.getElementById('drawChart').getContext('2d');
      var ctx2 = document.getElementById('drawChart2').getContext('2d');
      window.myLine = new Chart(ctx, config);
      window.myLine = new Chart(ctx2, config);
    };
